import{R as I,r as vt,j as T,L as bt}from"./index-6k8RFufo.js";import{c as oe}from"./clsx-Zbgk8kpT.js";var de=e=>e.type==="checkbox",ae=e=>e instanceof Date,C=e=>e==null;const rt=e=>typeof e=="object";var k=e=>!C(e)&&!Array.isArray(e)&&rt(e)&&!ae(e),mt=e=>k(e)&&e.target?de(e.target)?e.target.checked:e.target.value:e,wt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Vt=(e,n)=>e.has(wt(n)),xt=e=>{const n=e.constructor&&e.constructor.prototype;return k(n)&&n.hasOwnProperty("isPrototypeOf")},Me=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function U(e){let n;const s=Array.isArray(e);if(e instanceof Date)n=new Date(e);else if(e instanceof Set)n=new Set(e);else if(!(Me&&(e instanceof Blob||e instanceof FileList))&&(s||k(e)))if(n=s?[]:{},!s&&!xt(e))n=e;else for(const r in e)e.hasOwnProperty(r)&&(n[r]=U(e[r]));else return e;return n}var ye=e=>Array.isArray(e)?e.filter(Boolean):[],F=e=>e===void 0,y=(e,n,s)=>{if(!n||!k(e))return s;const r=ye(n.split(/[,[\].]+?/)).reduce((l,u)=>C(l)?l:l[u],e);return F(r)||r===e?F(e[n])?s:e[n]:r},J=e=>typeof e=="boolean";const ze={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},j={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},G={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};I.createContext(null);var At=(e,n,s,r=!0)=>{const l={defaultValues:n._defaultValues};for(const u in e)Object.defineProperty(l,u,{get:()=>{const f=u;return n._proxyFormState[f]!==j.all&&(n._proxyFormState[f]=!r||j.all),s&&(s[f]=!0),e[f]}});return l},B=e=>k(e)&&!Object.keys(e).length,Ft=(e,n,s,r)=>{s(e);const{name:l,...u}=e;return B(u)||Object.keys(u).length>=Object.keys(n).length||Object.keys(u).find(f=>n[f]===(!r||j.all))},Ee=e=>Array.isArray(e)?e:[e];function Dt(e){const n=I.useRef(e);n.current=e,I.useEffect(()=>{const s=!e.disabled&&n.current.subject&&n.current.subject.subscribe({next:n.current.next});return()=>{s&&s.unsubscribe()}},[e.disabled])}var H=e=>typeof e=="string",pt=(e,n,s,r,l)=>H(e)?(r&&n.watch.add(e),y(s,e,l)):Array.isArray(e)?e.map(u=>(r&&n.watch.add(u),y(s,u))):(r&&(n.watchAll=!0),s),Te=e=>/^\w*$/.test(e),st=e=>ye(e.replace(/["|']|\]/g,"").split(/\.|\[/)),x=(e,n,s)=>{let r=-1;const l=Te(n)?[n]:st(n),u=l.length,f=u-1;for(;++r<u;){const v=l[r];let m=s;if(r!==f){const L=e[v];m=k(L)||Array.isArray(L)?L:isNaN(+l[r+1])?{}:[]}e[v]=m,e=e[v]}return e},kt=(e,n,s,r,l)=>n?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[r]:l||!0}}:{},Ge=e=>({isOnSubmit:!e||e===j.onSubmit,isOnBlur:e===j.onBlur,isOnChange:e===j.onChange,isOnAll:e===j.all,isOnTouch:e===j.onTouched}),Je=(e,n,s)=>!s&&(n.watchAll||n.watch.has(e)||[...n.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const fe=(e,n,s,r)=>{for(const l of s||Object.keys(e)){const u=y(e,l);if(u){const{_f:f,...v}=u;if(f){if(f.refs&&f.refs[0]&&n(f.refs[0],l)&&!r)break;if(f.ref&&n(f.ref,f.name)&&!r)break;fe(v,n)}else k(v)&&fe(v,n)}}};var St=(e,n,s)=>{const r=ye(y(e,s));return x(r,"root",n[s]),x(e,s,r),e},Oe=e=>e.type==="file",Y=e=>typeof e=="function",be=e=>{if(!Me)return!1;const n=e?e.ownerDocument:0;return e instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},ve=e=>H(e),Re=e=>e.type==="radio",me=e=>e instanceof RegExp;const Qe={value:!1,isValid:!1},Xe={value:!0,isValid:!0};var it=e=>{if(Array.isArray(e)){if(e.length>1){const n=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:n,isValid:!!n.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!F(e[0].attributes.value)?F(e[0].value)||e[0].value===""?Xe:{value:e[0].value,isValid:!0}:Xe:Qe}return Qe};const Ye={isValid:!1,value:null};var nt=e=>Array.isArray(e)?e.reduce((n,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:n,Ye):Ye;function Ze(e,n,s="validate"){if(ve(e)||Array.isArray(e)&&e.every(ve)||J(e)&&!e)return{type:s,message:ve(e)?e:"",ref:n}}var ne=e=>k(e)&&!me(e)?e:{value:e,message:""},et=async(e,n,s,r,l)=>{const{ref:u,refs:f,required:v,maxLength:m,minLength:L,min:re,max:D,pattern:h,validate:Q,name:O,valueAsNumber:ge,mount:xe,disabled:X}=e._f,b=y(n,O);if(!xe||X)return{};const $=f?f[0]:u,K=w=>{r&&$.reportValidity&&($.setCustomValidity(J(w)?"":w||""),$.reportValidity())},S={},ue=Re(u),se=de(u),Ae=ue||se,P=(ge||Oe(u))&&F(u.value)&&F(b)||be(u)&&u.value===""||b===""||Array.isArray(b)&&!b.length,Z=kt.bind(null,O,s,S),z=(w,_,A,M=G.maxLength,R=G.minLength)=>{const q=w?_:A;S[O]={type:w?M:R,message:q,ref:u,...Z(w?M:R,q)}};if(l?!Array.isArray(b)||!b.length:v&&(!Ae&&(P||C(b))||J(b)&&!b||se&&!it(f).isValid||ue&&!nt(f).isValid)){const{value:w,message:_}=ve(v)?{value:!!v,message:v}:ne(v);if(w&&(S[O]={type:G.required,message:_,ref:$,...Z(G.required,_)},!s))return K(_),S}if(!P&&(!C(re)||!C(D))){let w,_;const A=ne(D),M=ne(re);if(!C(b)&&!isNaN(b)){const R=u.valueAsNumber||b&&+b;C(A.value)||(w=R>A.value),C(M.value)||(_=R<M.value)}else{const R=u.valueAsDate||new Date(b),q=he=>new Date(new Date().toDateString()+" "+he),ee=u.type=="time",le=u.type=="week";H(A.value)&&b&&(w=ee?q(b)>q(A.value):le?b>A.value:R>new Date(A.value)),H(M.value)&&b&&(_=ee?q(b)<q(M.value):le?b<M.value:R<new Date(M.value))}if((w||_)&&(z(!!w,A.message,M.message,G.max,G.min),!s))return K(S[O].message),S}if((m||L)&&!P&&(H(b)||l&&Array.isArray(b))){const w=ne(m),_=ne(L),A=!C(w.value)&&b.length>+w.value,M=!C(_.value)&&b.length<+_.value;if((A||M)&&(z(A,w.message,_.message),!s))return K(S[O].message),S}if(h&&!P&&H(b)){const{value:w,message:_}=ne(h);if(me(w)&&!b.match(w)&&(S[O]={type:G.pattern,message:_,ref:u,...Z(G.pattern,_)},!s))return K(_),S}if(Q){if(Y(Q)){const w=await Q(b,n),_=Ze(w,$);if(_&&(S[O]={..._,...Z(G.validate,_.message)},!s))return K(_.message),S}else if(k(Q)){let w={};for(const _ in Q){if(!B(w)&&!s)break;const A=Ze(await Q[_](b,n),$,_);A&&(w={...A,...Z(_,A.message)},K(A.message),s&&(S[O]=w))}if(!B(w)&&(S[O]={ref:$,...w},!s))return S}}return K(!0),S};function Et(e,n){const s=n.slice(0,-1).length;let r=0;for(;r<s;)e=F(e)?r++:e[n[r++]];return e}function Nt(e){for(const n in e)if(e.hasOwnProperty(n)&&!F(e[n]))return!1;return!0}function N(e,n){const s=Array.isArray(n)?n:Te(n)?[n]:st(n),r=s.length===1?e:Et(e,s),l=s.length-1,u=s[l];return r&&delete r[u],l!==0&&(k(r)&&B(r)||Array.isArray(r)&&Nt(r))&&N(e,s.slice(0,-1)),e}var Ne=()=>{let e=[];return{get observers(){return e},next:l=>{for(const u of e)u.next&&u.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(u=>u!==l)}}),unsubscribe:()=>{e=[]}}},we=e=>C(e)||!rt(e);function te(e,n){if(we(e)||we(n))return e===n;if(ae(e)&&ae(n))return e.getTime()===n.getTime();const s=Object.keys(e),r=Object.keys(n);if(s.length!==r.length)return!1;for(const l of s){const u=e[l];if(!r.includes(l))return!1;if(l!=="ref"){const f=n[l];if(ae(u)&&ae(f)||k(u)&&k(f)||Array.isArray(u)&&Array.isArray(f)?!te(u,f):u!==f)return!1}}return!0}var at=e=>e.type==="select-multiple",Ct=e=>Re(e)||de(e),Ce=e=>be(e)&&e.isConnected,ut=e=>{for(const n in e)if(Y(e[n]))return!0;return!1};function Ve(e,n={}){const s=Array.isArray(e);if(k(e)||s)for(const r in e)Array.isArray(e[r])||k(e[r])&&!ut(e[r])?(n[r]=Array.isArray(e[r])?[]:{},Ve(e[r],n[r])):C(e[r])||(n[r]=!0);return n}function lt(e,n,s){const r=Array.isArray(e);if(k(e)||r)for(const l in e)Array.isArray(e[l])||k(e[l])&&!ut(e[l])?F(n)||we(s[l])?s[l]=Array.isArray(e[l])?Ve(e[l],[]):{...Ve(e[l])}:lt(e[l],C(n)?{}:n[l],s[l]):s[l]=!te(e[l],n[l]);return s}var _e=(e,n)=>lt(e,n,Ve(n)),ot=(e,{valueAsNumber:n,valueAsDate:s,setValueAs:r})=>F(e)?e:n?e===""?NaN:e&&+e:s&&H(e)?new Date(e):r?r(e):e;function Le(e){const n=e.ref;if(!(e.refs?e.refs.every(s=>s.disabled):n.disabled))return Oe(n)?n.files:Re(n)?nt(e.refs).value:at(n)?[...n.selectedOptions].map(({value:s})=>s):de(n)?it(e.refs).value:ot(F(n.value)?e.ref.value:n.value,e)}var Lt=(e,n,s,r)=>{const l={};for(const u of e){const f=y(n,u);f&&x(l,u,f._f)}return{criteriaMode:s,names:[...e],fields:l,shouldUseNativeValidation:r}},ce=e=>F(e)?e:me(e)?e.source:k(e)?me(e.value)?e.value.source:e.value:e,Mt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function tt(e,n,s){const r=y(e,s);if(r||Te(s))return{error:r,name:s};const l=s.split(".");for(;l.length;){const u=l.join("."),f=y(n,u),v=y(e,u);if(f&&!Array.isArray(f)&&s!==u)return{name:s};if(v&&v.type)return{name:u,error:v};l.pop()}return{name:s}}var Tt=(e,n,s,r,l)=>l.isOnAll?!1:!s&&l.isOnTouch?!(n||e):(s?r.isOnBlur:l.isOnBlur)?!e:(s?r.isOnChange:l.isOnChange)?e:!0,Ot=(e,n)=>!ye(y(e,n)).length&&N(e,n);const Rt={mode:j.onSubmit,reValidateMode:j.onChange,shouldFocusError:!0};function Ut(e={},n){let s={...Rt,...e},r={submitCount:0,isDirty:!1,isLoading:Y(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:s.errors||{},disabled:s.disabled||!1},l={},u=k(s.values)||k(s.defaultValues)?U(s.values||s.defaultValues)||{}:{},f=s.shouldUnregister?{}:U(u),v={action:!1,mount:!1,watch:!1},m={mount:new Set,unMount:new Set,array:new Set,watch:new Set},L,re=0;const D={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Ne(),array:Ne(),state:Ne()},Q=Ge(s.mode),O=Ge(s.reValidateMode),ge=s.criteriaMode===j.all,xe=t=>i=>{clearTimeout(re),re=setTimeout(t,i)},X=async t=>{if(D.isValid||t){const i=s.resolver?B((await P()).errors):await z(l,!0);i!==r.isValid&&h.state.next({isValid:i})}},b=t=>D.isValidating&&h.state.next({isValidating:t}),$=(t,i=[],a,d,c=!0,o=!0)=>{if(d&&a){if(v.action=!0,o&&Array.isArray(y(l,t))){const g=a(y(l,t),d.argA,d.argB);c&&x(l,t,g)}if(o&&Array.isArray(y(r.errors,t))){const g=a(y(r.errors,t),d.argA,d.argB);c&&x(r.errors,t,g),Ot(r.errors,t)}if(D.touchedFields&&o&&Array.isArray(y(r.touchedFields,t))){const g=a(y(r.touchedFields,t),d.argA,d.argB);c&&x(r.touchedFields,t,g)}D.dirtyFields&&(r.dirtyFields=_e(u,f)),h.state.next({name:t,isDirty:_(t,i),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else x(f,t,i)},K=(t,i)=>{x(r.errors,t,i),h.state.next({errors:r.errors})},S=t=>{r.errors=t,h.state.next({errors:r.errors,isValid:!1})},ue=(t,i,a,d)=>{const c=y(l,t);if(c){const o=y(f,t,F(a)?y(u,t):a);F(o)||d&&d.defaultChecked||i?x(f,t,i?o:Le(c._f)):R(t,o),v.mount&&X()}},se=(t,i,a,d,c)=>{let o=!1,g=!1;const V={name:t},E=!!(y(l,t)&&y(l,t)._f.disabled);if(!a||d){D.isDirty&&(g=r.isDirty,r.isDirty=V.isDirty=_(),o=g!==V.isDirty);const W=E||te(y(u,t),i);g=!!(!E&&y(r.dirtyFields,t)),W||E?N(r.dirtyFields,t):x(r.dirtyFields,t,!0),V.dirtyFields=r.dirtyFields,o=o||D.dirtyFields&&g!==!W}if(a){const W=y(r.touchedFields,t);W||(x(r.touchedFields,t,a),V.touchedFields=r.touchedFields,o=o||D.touchedFields&&W!==a)}return o&&c&&h.state.next(V),o?V:{}},Ae=(t,i,a,d)=>{const c=y(r.errors,t),o=D.isValid&&J(i)&&r.isValid!==i;if(e.delayError&&a?(L=xe(()=>K(t,a)),L(e.delayError)):(clearTimeout(re),L=null,a?x(r.errors,t,a):N(r.errors,t)),(a?!te(c,a):c)||!B(d)||o){const g={...d,...o&&J(i)?{isValid:i}:{},errors:r.errors,name:t};r={...r,...g},h.state.next(g)}b(!1)},P=async t=>s.resolver(f,s.context,Lt(t||m.mount,l,s.criteriaMode,s.shouldUseNativeValidation)),Z=async t=>{const{errors:i}=await P(t);if(t)for(const a of t){const d=y(i,a);d?x(r.errors,a,d):N(r.errors,a)}else r.errors=i;return i},z=async(t,i,a={valid:!0})=>{for(const d in t){const c=t[d];if(c){const{_f:o,...g}=c;if(o){const V=m.array.has(o.name),E=await et(c,f,ge,s.shouldUseNativeValidation&&!i,V);if(E[o.name]&&(a.valid=!1,i))break;!i&&(y(E,o.name)?V?St(r.errors,E,o.name):x(r.errors,o.name,E[o.name]):N(r.errors,o.name))}g&&await z(g,i,a)}}return a.valid},w=()=>{for(const t of m.unMount){const i=y(l,t);i&&(i._f.refs?i._f.refs.every(a=>!Ce(a)):!Ce(i._f.ref))&&De(t)}m.unMount=new Set},_=(t,i)=>(t&&i&&x(f,t,i),!te(Ue(),u)),A=(t,i,a)=>pt(t,m,{...v.mount?f:F(i)?u:H(t)?{[t]:i}:i},a,i),M=t=>ye(y(v.mount?f:u,t,e.shouldUnregister?y(u,t,[]):[])),R=(t,i,a={})=>{const d=y(l,t);let c=i;if(d){const o=d._f;o&&(!o.disabled&&x(f,t,ot(i,o)),c=be(o.ref)&&C(i)?"":i,at(o.ref)?[...o.ref.options].forEach(g=>g.selected=c.includes(g.value)):o.refs?de(o.ref)?o.refs.length>1?o.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(c)?!!c.find(V=>V===g.value):c===g.value)):o.refs[0]&&(o.refs[0].checked=!!c):o.refs.forEach(g=>g.checked=g.value===c):Oe(o.ref)?o.ref.value="":(o.ref.value=c,o.ref.type||h.values.next({name:t,values:{...f}})))}(a.shouldDirty||a.shouldTouch)&&se(t,c,a.shouldTouch,a.shouldDirty,!0),a.shouldValidate&&Fe(t)},q=(t,i,a)=>{for(const d in i){const c=i[d],o=`${t}.${d}`,g=y(l,o);(m.array.has(t)||!we(c)||g&&!g._f)&&!ae(c)?q(o,c,a):R(o,c,a)}},ee=(t,i,a={})=>{const d=y(l,t),c=m.array.has(t),o=U(i);x(f,t,o),c?(h.array.next({name:t,values:{...f}}),(D.isDirty||D.dirtyFields)&&a.shouldDirty&&h.state.next({name:t,dirtyFields:_e(u,f),isDirty:_(t,o)})):d&&!d._f&&!C(o)?q(t,o,a):R(t,o,a),Je(t,m)&&h.state.next({...r}),h.values.next({name:t,values:{...f}}),!v.mount&&n()},le=async t=>{const i=t.target;let a=i.name,d=!0;const c=y(l,a),o=()=>i.type?Le(c._f):mt(t),g=V=>{d=Number.isNaN(V)||V===y(f,a,V)};if(c){let V,E;const W=o(),ie=t.type===ze.BLUR||t.type===ze.FOCUS_OUT,gt=!Mt(c._f)&&!s.resolver&&!y(r.errors,a)&&!c._f.deps||Tt(ie,y(r.touchedFields,a),r.isSubmitted,O,Q),ke=Je(a,m,ie);x(f,a,W),ie?(c._f.onBlur&&c._f.onBlur(t),L&&L(0)):c._f.onChange&&c._f.onChange(t);const Se=se(a,W,ie,!1),ht=!B(Se)||ke;if(!ie&&h.values.next({name:a,type:t.type,values:{...f}}),gt)return D.isValid&&X(),ht&&h.state.next({name:a,...ke?{}:Se});if(!ie&&ke&&h.state.next({...r}),b(!0),s.resolver){const{errors:$e}=await P([a]);if(g(W),d){const _t=tt(r.errors,l,a),Ke=tt($e,l,_t.name||a);V=Ke.error,a=Ke.name,E=B($e)}}else V=(await et(c,f,ge,s.shouldUseNativeValidation))[a],g(W),d&&(V?E=!1:D.isValid&&(E=await z(l,!0)));d&&(c._f.deps&&Fe(c._f.deps),Ae(a,E,V,Se))}},he=(t,i)=>{if(y(r.errors,i)&&t.focus)return t.focus(),1},Fe=async(t,i={})=>{let a,d;const c=Ee(t);if(b(!0),s.resolver){const o=await Z(F(t)?t:c);a=B(o),d=t?!c.some(g=>y(o,g)):a}else t?(d=(await Promise.all(c.map(async o=>{const g=y(l,o);return await z(g&&g._f?{[o]:g}:g)}))).every(Boolean),!(!d&&!r.isValid)&&X()):d=a=await z(l);return h.state.next({...!H(t)||D.isValid&&a!==r.isValid?{}:{name:t},...s.resolver||!t?{isValid:a}:{},errors:r.errors,isValidating:!1}),i.shouldFocus&&!d&&fe(l,he,t?c:m.mount),d},Ue=t=>{const i={...u,...v.mount?f:{}};return F(t)?i:H(t)?y(i,t):t.map(a=>y(i,a))},Ie=(t,i)=>({invalid:!!y((i||r).errors,t),isDirty:!!y((i||r).dirtyFields,t),isTouched:!!y((i||r).touchedFields,t),error:y((i||r).errors,t)}),ct=t=>{t&&Ee(t).forEach(i=>N(r.errors,i)),h.state.next({errors:t?r.errors:{}})},Be=(t,i,a)=>{const d=(y(l,t,{_f:{}})._f||{}).ref;x(r.errors,t,{...i,ref:d}),h.state.next({name:t,errors:r.errors,isValid:!1}),a&&a.shouldFocus&&d&&d.focus&&d.focus()},ft=(t,i)=>Y(t)?h.values.subscribe({next:a=>t(A(void 0,i),a)}):A(t,i,!0),De=(t,i={})=>{for(const a of t?Ee(t):m.mount)m.mount.delete(a),m.array.delete(a),i.keepValue||(N(l,a),N(f,a)),!i.keepError&&N(r.errors,a),!i.keepDirty&&N(r.dirtyFields,a),!i.keepTouched&&N(r.touchedFields,a),!s.shouldUnregister&&!i.keepDefaultValue&&N(u,a);h.values.next({values:{...f}}),h.state.next({...r,...i.keepDirty?{isDirty:_()}:{}}),!i.keepIsValid&&X()},je=({disabled:t,name:i,field:a,fields:d,value:c})=>{if(J(t)){const o=t?void 0:F(c)?Le(a?a._f:y(d,i)._f):c;x(f,i,o),se(i,o,!1,!1,!0)}},pe=(t,i={})=>{let a=y(l,t);const d=J(i.disabled);return x(l,t,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:t}},name:t,mount:!0,...i}}),m.mount.add(t),a?je({field:a,disabled:i.disabled,name:t,value:i.value}):ue(t,!0,i.value),{...d?{disabled:i.disabled}:{},...s.progressive?{required:!!i.required,min:ce(i.min),max:ce(i.max),minLength:ce(i.minLength),maxLength:ce(i.maxLength),pattern:ce(i.pattern)}:{},name:t,onChange:le,onBlur:le,ref:c=>{if(c){pe(t,i),a=y(l,t);const o=F(c.value)&&c.querySelectorAll&&c.querySelectorAll("input,select,textarea")[0]||c,g=Ct(o),V=a._f.refs||[];if(g?V.find(E=>E===o):o===a._f.ref)return;x(l,t,{_f:{...a._f,...g?{refs:[...V.filter(Ce),o,...Array.isArray(y(u,t))?[{}]:[]],ref:{type:o.type,name:t}}:{ref:o}}}),ue(t,!1,void 0,o)}else a=y(l,t,{}),a._f&&(a._f.mount=!1),(s.shouldUnregister||i.shouldUnregister)&&!(Vt(m.array,t)&&v.action)&&m.unMount.add(t)}}},Pe=()=>s.shouldFocusError&&fe(l,he,m.mount),dt=t=>{J(t)&&(h.state.next({disabled:t}),fe(l,(i,a)=>{let d=t;const c=y(l,a);c&&J(c._f.disabled)&&(d||(d=c._f.disabled)),i.disabled=d},0,!1))},qe=(t,i)=>async a=>{let d;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let c=U(f);if(h.state.next({isSubmitting:!0}),s.resolver){const{errors:o,values:g}=await P();r.errors=o,c=g}else await z(l);if(N(r.errors,"root"),B(r.errors)){h.state.next({errors:{}});try{await t(c,a)}catch(o){d=o}}else i&&await i({...r.errors},a),Pe(),setTimeout(Pe);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:B(r.errors)&&!d,submitCount:r.submitCount+1,errors:r.errors}),d)throw d},yt=(t,i={})=>{y(l,t)&&(F(i.defaultValue)?ee(t,U(y(u,t))):(ee(t,i.defaultValue),x(u,t,U(i.defaultValue))),i.keepTouched||N(r.touchedFields,t),i.keepDirty||(N(r.dirtyFields,t),r.isDirty=i.defaultValue?_(t,U(y(u,t))):_()),i.keepError||(N(r.errors,t),D.isValid&&X()),h.state.next({...r}))},We=(t,i={})=>{const a=t?U(t):u,d=U(a),c=t&&!B(t)?d:u;if(i.keepDefaultValues||(u=a),!i.keepValues){if(i.keepDirtyValues)for(const o of m.mount)y(r.dirtyFields,o)?x(c,o,y(f,o)):ee(o,y(c,o));else{if(Me&&F(t))for(const o of m.mount){const g=y(l,o);if(g&&g._f){const V=Array.isArray(g._f.refs)?g._f.refs[0]:g._f.ref;if(be(V)){const E=V.closest("form");if(E){E.reset();break}}}}l={}}f=e.shouldUnregister?i.keepDefaultValues?U(u):{}:U(c),h.array.next({values:{...c}}),h.values.next({values:{...c}})}m={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!v.mount&&n(),v.mount=!D.isValid||!!i.keepIsValid||!!i.keepDirtyValues,v.watch=!!e.shouldUnregister,h.state.next({submitCount:i.keepSubmitCount?r.submitCount:0,isDirty:i.keepDirty?r.isDirty:!!(i.keepDefaultValues&&!te(t,u)),isSubmitted:i.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:i.keepDirtyValues?i.keepDefaultValues&&f?_e(u,f):r.dirtyFields:i.keepDefaultValues&&t?_e(u,t):{},touchedFields:i.keepTouched?r.touchedFields:{},errors:i.keepErrors?r.errors:{},isSubmitSuccessful:i.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},He=(t,i)=>We(Y(t)?t(f):t,i);return{control:{register:pe,unregister:De,getFieldState:Ie,handleSubmit:qe,setError:Be,_executeSchema:P,_getWatch:A,_getDirty:_,_updateValid:X,_removeUnmounted:w,_updateFieldArray:$,_updateDisabledField:je,_getFieldArray:M,_reset:We,_resetDefaultValues:()=>Y(s.defaultValues)&&s.defaultValues().then(t=>{He(t,s.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:t=>{r={...r,...t}},_disableForm:dt,_subjects:h,_proxyFormState:D,_setErrors:S,get _fields(){return l},get _formValues(){return f},get _state(){return v},set _state(t){v=t},get _defaultValues(){return u},get _names(){return m},set _names(t){m=t},get _formState(){return r},set _formState(t){r=t},get _options(){return s},set _options(t){s={...s,...t}}},trigger:Fe,register:pe,handleSubmit:qe,watch:ft,setValue:ee,getValues:Ue,reset:He,resetField:yt,clearErrors:ct,unregister:De,setError:Be,setFocus:(t,i={})=>{const a=y(l,t),d=a&&a._f;if(d){const c=d.refs?d.refs[0]:d.ref;c.focus&&(c.focus(),i.shouldSelect&&c.select())}},getFieldState:Ie}}function It(e={}){const n=I.useRef(),s=I.useRef(),[r,l]=I.useState({isDirty:!1,isValidating:!1,isLoading:Y(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Y(e.defaultValues)?void 0:e.defaultValues});n.current||(n.current={...Ut(e,()=>l(f=>({...f}))),formState:r});const u=n.current.control;return u._options=e,Dt({subject:u._subjects.state,next:f=>{Ft(f,u._proxyFormState,u._updateFormState,!0)&&l({...u._formState})}}),I.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),I.useEffect(()=>{if(u._proxyFormState.isDirty){const f=u._getDirty();f!==r.isDirty&&u._subjects.state.next({isDirty:f})}},[u,r.isDirty]),I.useEffect(()=>{e.values&&!te(e.values,s.current)?(u._reset(e.values,u._options.resetOptions),s.current=e.values,l(f=>({...f}))):u._resetDefaultValues()},[e.values,u]),I.useEffect(()=>{e.errors&&u._setErrors(e.errors)},[e.errors,u]),I.useEffect(()=>{u._state.mount||(u._updateValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),I.useEffect(()=>{e.shouldUnregister&&u._subjects.values.next({values:u._getWatch()})},[e.shouldUnregister,u]),n.current.formState=At(r,u),n.current}const Bt="_form_44wwu_1",jt="_title_44wwu_7",Pt="_inputContainer_44wwu_13",qt="_inputName_44wwu_20",Wt="_input_44wwu_13",Ht="_errorInput_44wwu_38",$t="_errorMessage_44wwu_42",Kt="_errorMessageVisible_44wwu_50",zt="_button_44wwu_53",Gt="_buttonDisabled_44wwu_67",Jt="_captionContainer_44wwu_81",Qt="_caption_44wwu_81",Xt="_link_44wwu_87",p={form:Bt,title:jt,inputContainer:Pt,inputName:qt,input:Wt,errorInput:Ht,errorMessage:$t,errorMessageVisible:Kt,button:zt,buttonDisabled:Gt,captionContainer:Jt,caption:Qt,link:Xt},sr=vt.memo(e=>{var v,m;const{register:n,handleSubmit:s,formState:{errors:r,isValid:l},reset:u}=It({mode:"onChange"}),f=L=>{e.onSubmit(L),u()};return T.jsxs("form",{className:p.form,onSubmit:s(f),noValidate:!0,children:[T.jsx("h2",{className:p.title,children:e.name}),T.jsxs("div",{className:p.inputContainer,children:[T.jsx("label",{className:p.inputName,htmlFor:"email",children:"E-mail"}),T.jsx("input",{...n("email",{required:"Это поле обязательно к заполнению",pattern:{value:/.+@.+..+/,message:"Указан некорректный email"}}),type:"email",id:"email",autoComplete:"email",className:oe(p.input,{[p.errorInput]:r.email})}),T.jsx("span",{className:oe(p.errorMessage,{[p.errorMessageVisible]:r.email}),children:(v=r.email)==null?void 0:v.message})]}),T.jsxs("div",{className:p.inputContainer,children:[T.jsx("label",{className:p.inputName,htmlFor:"email",children:"Password"}),T.jsx("input",{...n("password",{required:"Это поле обязательно к заполнению",pattern:{value:/^(?!.*[А-Я а-я]).{8,50}/,message:"Указан некорректный пароль"},minLength:{value:8,message:"Минимальное количество символов - 8"},maxLength:{value:50,message:"Максимальное количество символов - 50"}}),className:oe(p.input,{[p.errorInput]:r.password}),type:"password",id:"password"}),T.jsx("span",{className:oe(p.errorMessage,{[p.errorMessageVisible]:r.password}),children:(m=r.password)==null?void 0:m.message})]}),T.jsx("button",{type:"submit",disabled:!l,className:oe(p.button,{[p.buttonDisabled]:!l}),children:e.name==="Регистрация"?"Зарегистрироваться":"Войти"}),T.jsx("div",{className:p.captionContainer,children:T.jsxs("p",{className:p.caption,children:[e.name==="Регистрация"?"Уже зарегистрированы? ":"Ещё не зарегистрированы? ",T.jsx(bt,{to:e.name==="Регистрация"?"/aston-react-project/signin":"/aston-react-project/signup",className:p.link,children:e.name==="Регистрация"?"Войти":"Регистрация"})]})})]})});export{sr as A};
