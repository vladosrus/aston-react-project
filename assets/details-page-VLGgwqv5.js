import{r,A as N,a as P,j as t,L as S,c as j,m as v,n as F,P as A}from"./index-69SyOyib.js";import{S as L}from"./section-btuKuJOY.js";import{u as B,L as C}from"./use-favorites-fR3Q9KZ9.js";import{S as E}from"./small_preloader-2zN7z7DP.js";const b="_article_tgpxw_1",G="_img_tgpxw_7",Q="_descriptionList_tgpxw_13",R="_descriptionListItem_tgpxw_18",T="_category_tgpxw_21",U="_description_tgpxw_13",$="_descriptionDark_tgpxw_31",q="_link_tgpxw_34",z="_linkDark_tgpxw_40",i={article:b,img:G,descriptionList:Q,descriptionListItem:R,category:T,description:U,descriptionDark:$,link:q,linkDark:z},H=r.memo(o=>{var c,l,d,p,m,h,g,x,_,k,f,I,u;const{isFavorite:e,isLoading:s,handleFavoriteButtonClick:y}=B((c=o.photoInfo)==null?void 0:c.id),{isAuth:D}=r.useContext(N),{theme:a}=P(),w=[{category:"Создатель:",description:(l=o.photoInfo)==null?void 0:l.creator.name},{category:"Страна:",description:(d=o.photoInfo)==null?void 0:d.creator.country},{category:"Описание:",description:(((p=o.photoInfo)==null?void 0:p.description)||"")>(((m=o.photoInfo)==null?void 0:m.alt_description)||"")?(h=o.photoInfo)==null?void 0:h.description:(g=o.photoInfo)==null?void 0:g.alt_description},{category:"Профиль создателя в Unsplash:",description:t.jsx(S,{to:((x=o.photoInfo)==null?void 0:x.creator.profileLink)||"#",className:j(i.link,{[i.linkDark]:a==="dark"}),target:"_blank",rel:"noopener noreferrer",children:`@${(_=o.photoInfo)==null?void 0:_.creator.profileName}`})}];return t.jsxs("article",{className:i.article,children:[t.jsx("img",{className:i.img,src:(k=o.photoInfo)==null?void 0:k.url,alt:(f=o.photoInfo)!=null&&f.description?(I=o.photoInfo)==null?void 0:I.description:(u=o.photoInfo)==null?void 0:u.alt_description}),t.jsxs("ul",{className:i.descriptionList,children:[w.map(n=>t.jsxs("li",{className:i.descriptionListItem,children:[t.jsx("span",{className:i.category,children:n.category}),t.jsx("p",{className:j(i.description,{[i.descriptionDark]:a==="dark"}),children:n.description})]},n.category)),t.jsx("li",{className:i.descriptionListItem,children:D&&(s?t.jsx(E,{width:32,height:32}):t.jsx(C,{isFavorite:e,handleFavoriteButtonClick:y}))})]})]})}),V=r.memo(()=>{const{id:o}=v(),{data:e,isLoading:s}=F(o);return t.jsxs(t.Fragment,{children:[t.jsx(L,{type:"top"}),t.jsx(L,{type:"main",children:s?t.jsx(A,{}):t.jsx(H,{photoInfo:e})})]})});export{V as DetailsPage,V as default};
